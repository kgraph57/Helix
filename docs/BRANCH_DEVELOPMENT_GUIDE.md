# ブランチ内での開発ガイド

## 🎯 このガイドの目的

ブランチ内で安全に開発を進め、本番環境に影響を与えない方法を説明します。

---

## 📍 現在のブランチ

**ブランチ名**: `feature/gamification-setup`  
**目的**: ゲーミフィケーション機能の実装  
**ステータス**: 開発中

---

## ✅ ブランチ内で開発するメリット

1. **本番環境を保護**
   - mainブランチは変更されない
   - 本番環境に影響なし

2. **自由に試せる**
   - 失敗しても問題なし
   - 何度でもやり直し可能

3. **段階的な実装**
   - 小さな単位で実装
   - 動作確認しながら進められる

4. **プレビュー環境で確認**
   - Vercelで実際のURLで確認可能
   - 本番環境と同じ設定でテスト

---

## 🚀 開発フロー

### 1. ブランチで作業

```bash
# 現在のブランチを確認
git branch --show-current
# → feature/gamification-setup

# 開発を続ける
# ファイルを編集...
```

### 2. 変更をコミット

```bash
# 変更を確認
git status

# 変更をステージング
git add .

# コミット
git commit -m "feat: ゲーミフィケーション機能の追加実装"

# プッシュ
git push origin feature/gamification-setup
```

### 3. ローカルでテスト

```bash
# 開発サーバーを起動
pnpm dev

# ブラウザで http://localhost:3000 を開く
# 新機能を試す
```

### 4. プレビュー環境で確認（Vercel設定後）

- ブランチをプッシュすると自動的にプレビューURLが生成
- 実際のURLで動作確認

---

## 🔄 mainブランチとの同期

### mainブランチの最新変更を取り込む

```bash
# mainブランチの最新を取得
git checkout main
git pull origin main

# featureブランチに戻る
git checkout feature/gamification-setup

# mainの変更を取り込む
git merge main

# コンフリクトがあれば解決
# その後、テストしてコミット
```

---

## 📊 実装状況の確認

### 現在の実装状況

- ✅ データベース設計
- ✅ バックエンドロジック
- ✅ APIエンドポイント
- ✅ フロントエンドUI（基本）
- ⏳ データベーススキーマ実装（次のステップ）
- ⏳ tRPC統合
- ⏳ UI統合

詳細: `docs/GAMIFICATION_IMPLEMENTATION_STATUS.md`

---

## 🧪 テスト方法

### ローカルテスト

```bash
# 開発サーバー起動
pnpm dev

# 型チェック
pnpm check

# テスト実行
pnpm test
```

### プレビュー環境テスト

1. Vercelを設定（`docs/VERCEL_SETUP_GUIDE.md`参照）
2. ブランチをプッシュ
3. プレビューURLで確認

---

## ✅ 完成したら

### プルリクエストを作成

1. GitHubでプルリクエストを作成
2. 変更内容を説明
3. レビュー（必要に応じて）
4. マージして本番に反映

### または、ブランチで継続開発

- 問題があればブランチで修正
- 完成するまでブランチで開発を続ける

---

## 🚨 注意事項

### 本番環境への影響

- ✅ **ブランチ内の変更は本番環境に影響しません**
- ✅ mainブランチは変更されません
- ✅ 自由に試せます

### データベースについて

- 現在の実装はプレースホルダー
- 実際のデータベーススキーマが定義されたら実装を完了

---

## 📝 チェックリスト

### 開発中
- [ ] ブランチで作業している
- [ ] 小さな単位でコミット
- [ ] ローカルでテスト
- [ ] エラーがない

### 完成時
- [ ] すべての機能が動作
- [ ] テストが通過
- [ ] ドキュメントが更新済み
- [ ] プルリクエスト準備完了

---

## 🎉 まとめ

ブランチ内で開発することで：
- ✅ 本番環境を保護
- ✅ 自由に試せる
- ✅ 段階的に実装
- ✅ プレビュー環境で確認

安心して開発を進められます！

---

**最終更新日**: 2025-01-XX
